import{u as C,r as a,j as e}from"./index-KybbPWHZ.js";import{A as O}from"./AssignmentCard-D-IWyfr2.js";import"./api-Csd6WsQO.js";const L=[{id:1,title:"Assignment 1: Python Basics",courseName:"CS101 - Introduction to Computer Science",description:"Complete the Python exercises on variables, loops, and functions. Submit your solutions as a .py file.",dueDate:new Date(Date.now()+2*24*60*60*1e3).toISOString(),points:100,estimatedTime:"2 hours",submitted:!1,submission:null},{id:2,title:"Linear Equations Problem Set",courseName:"MATH201 - Linear Algebra",description:"Solve the system of linear equations using matrix operations. Show all your work.",dueDate:new Date(Date.now()+5*24*60*60*1e3).toISOString(),points:100,estimatedTime:"3 hours",submitted:!0,submission:{submittedAt:new Date(Date.now()-24*60*60*1e3).toISOString(),file:"linear_algebra_solutions.pdf",grade:null,feedback:null}},{id:3,title:"Research Paper Outline",courseName:"ENG150 - Academic Writing",description:"Submit an outline for your research paper including thesis statement and main points.",dueDate:new Date(Date.now()-1*24*60*60*1e3).toISOString(),points:50,estimatedTime:"1 hour",submitted:!0,submission:{submittedAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),file:"research_outline.docx",grade:45,feedback:"Great work! Just make sure to add more supporting evidence for your third point."}},{id:4,title:"Lab Report: Chemical Reactions",courseName:"CHEM201 - Organic Chemistry",description:"Write a lab report on the observed chemical reactions from last week's experiment.",dueDate:new Date(Date.now()+7*24*60*60*1e3).toISOString(),points:150,estimatedTime:"4 hours",submitted:!1,submission:null}];function E(){var h,p,b,y,j,w;const{currentUser:c}=C(),[l,f]=a.useState([]),[N,u]=a.useState(!0),[n,g]=a.useState("upcoming"),[x,k]=a.useState("all"),[t,r]=a.useState({isOpen:!1,assignment:null,file:null,submitting:!1}),m=(c==null?void 0:c.role)==="teacher";a.useEffect(()=>{(async()=>{try{u(!0),setTimeout(()=>{f(L),u(!1)},500)}catch(i){console.error("Error fetching assignments:",i),u(!1)}})()},[m]);const S=s=>{s.target.files.length>0&&r(i=>({...i,file:s.target.files[0]}))},D=async()=>{if(t.file)try{r(i=>({...i,submitting:!0}));const s=l.map(i=>i.id===t.assignment.id?{...i,submitted:!0,submission:{submittedAt:new Date().toISOString(),file:t.file.name,grade:null,feedback:null}}:i);f(s),r({isOpen:!1,assignment:null,file:null,submitting:!1})}catch(s){console.error("Error submitting assignment:",s),r(i=>({...i,submitting:!1}))}},o=l.filter(s=>{var v;const i=new Date,d=new Date(s.dueDate);return!(n==="upcoming"&&(s.submitted||d<i)||n==="submitted"&&!s.submitted||n==="graded"&&(!s.submitted||!((v=s.submission)!=null&&v.grade))||n==="overdue"&&(s.submitted||d>=i)||x!=="all"&&!s.courseName.includes(x))}),A=[...new Set(l.map(s=>s.courseName))];return N?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:m?"Assignments to Grade":"My Assignments"}),e.jsx("p",{className:"mt-2 text-gray-600",children:m?"Review and grade student submissions":"Track and submit your assignments"})]}),m&&e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Create New Assignment"})})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[{name:"Upcoming",tab:"upcoming"},{name:"Submitted",tab:"submitted"},{name:"Graded",tab:"graded"},{name:"Overdue",tab:"overdue"}].map(s=>e.jsxs("button",{onClick:()=>g(s.tab),className:`${n===s.tab?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:[s.name,s.tab==="overdue"&&e.jsx("span",{className:"ml-2 bg-red-100 text-red-600 text-xs font-medium px-2 py-0.5 rounded-full",children:l.filter(i=>{const d=new Date(i.dueDate);return!i.submitted&&d<new Date}).length})]},s.tab))})}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"w-full sm:w-64 mb-4 sm:mb-0",children:[e.jsx("label",{htmlFor:"course-filter",className:"sr-only",children:"Filter by course"}),e.jsxs("select",{id:"course-filter",className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",value:x,onChange:s=>k(s.target.value),children:[e.jsx("option",{value:"all",children:"All Courses"}),A.map(s=>e.jsx("option",{value:s.split(" - ")[0],children:s},s))]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-sm text-gray-500 mr-2",children:[o.length," ",o.length===1?"assignment":"assignments"]}),e.jsx("button",{type:"button",className:"ml-2 p-2 text-gray-400 hover:text-gray-500",title:"Refresh",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),e.jsx("div",{className:"space-y-4",children:o.length>0?o.map(s=>e.jsx(O,{assignment:s,onViewSubmission:()=>{s.submitted?r({isOpen:!0,assignment:s,file:null,submitting:!1}):r({isOpen:!0,assignment:s,file:null,submitting:!1})}},s.id)):e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No assignments found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n==="upcoming"?"You have no upcoming assignments.":n==="submitted"?"You have no submitted assignments.":n==="graded"?"No graded assignments yet.":"No overdue assignments."}),n!=="upcoming"&&e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",onClick:()=>g("upcoming"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"View Upcoming Assignments"})})]})}),t.isOpen&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:()=>r({isOpen:!1,assignment:null,file:null})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:(h=t.assignment)!=null&&h.submitted?"Assignment Details":"Submit Assignment"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:(p=t.assignment)==null?void 0:p.title}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:(b=t.assignment)==null?void 0:b.courseName}),e.jsx("p",{className:"mt-3 text-sm text-gray-700",children:(y=t.assignment)==null?void 0:y.description}),(j=t.assignment)!=null&&j.submitted?e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-md",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"Your Submission"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Submitted on ",new Date(t.assignment.submission.submittedAt).toLocaleDateString()]}),e.jsxs("div",{className:"mt-2 flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"ml-2 text-sm text-gray-900",children:t.assignment.submission.file})]}),t.assignment.submission.grade!==null&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Grade:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[t.assignment.submission.grade," / ",t.assignment.points]})]}),t.assignment.submission.feedback&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Feedback:"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t.assignment.submission.feedback})]})]})]}):e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload your submission"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("div",{className:"flex text-sm text-gray-600",children:[e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-primary-600 hover:text-primary-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-primary-500",children:[e.jsx("span",{children:"Upload a file"}),e.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:S})]}),e.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX, PPT, PPTX up to 10MB"})]})}),t.file&&e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-900",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.file.name]})]})]})]})})}),e.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:(w=t.assignment)!=null&&w.submitted?e.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>r({isOpen:!1,assignment:null,file:null}),children:"Close"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",onClick:D,disabled:!t.file||t.submitting,children:t.submitting?"Submitting...":"Submit Assignment"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>r({isOpen:!1,assignment:null,file:null}),children:"Cancel"})]})})]})]})})]})}export{E as default};
