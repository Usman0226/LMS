import{u as w,a as C,r as i,j as e}from"./index-DOJNHyVV.js";import"./CourseCard-B0dCTAYH.js";import"./AssignmentCard-3GIIfqx2.js";import"./api-Csd6WsQO.js";const h=[{id:1,code:"CS101",title:"Introduction to Computer Science",description:"Learn the fundamentals of computer science and programming with Python.",instructor:"Dr. Sarah Johnson",credits:4,status:"In Progress",progress:65},{id:2,code:"MATH201",title:"Linear Algebra",description:"Study vectors, matrices, and linear transformations with real-world applications.",instructor:"Prof. Michael Chen",credits:3,status:"In Progress",progress:30}],p=[{id:1,title:"Assignment 1: Python Basics",courseName:"CS101 - Introduction to Computer Science",description:"Complete the Python exercises on variables, loops, and functions.",dueDate:new Date(Date.now()+2*24*60*60*1e3).toISOString(),points:100,estimatedTime:"2 hours",submitted:!1},{id:2,title:"Linear Equations Problem Set",courseName:"MATH201 - Linear Algebra",description:"Solve the system of linear equations using matrix operations.",dueDate:new Date(Date.now()+5*24*60*60*1e3).toISOString(),points:100,estimatedTime:"3 hours",submitted:!0}];function G(){var g;const{currentUser:r}=w(),c=C(),[d,m]=i.useState([]),[u,x]=i.useState([]),[f,l]=i.useState(!0),[S,o]=i.useState({coursesInProgress:0,assignmentsDue:0,completedCourses:0,averageGrade:0,coursesCreated:0,totalStudents:0,assignmentsToGrade:0,averageClassSize:0}),a=(s,n)=>{if(!r){c("/login");return}n&&c(n)},y=()=>a("viewCourses","/courses"),b=()=>a("createCourse","/courses"),j=()=>a("browseCourses","/courses"),v=()=>a("createAssignment","/assignments"),N=()=>a("gradeSubmissions","/grades");i.useEffect(()=>{(async()=>{try{l(!0),console.log("Dashboard - Starting data fetch for user:",r),setTimeout(()=>{o(t?{coursesCreated:3,totalStudents:45,assignmentsToGrade:12,averageClassSize:15,coursesInProgress:0,assignmentsDue:0,completedCourses:0,averageGrade:0}:{coursesInProgress:2,assignmentsDue:3,completedCourses:4,averageGrade:87.5,coursesCreated:0,totalStudents:0,assignmentsToGrade:0,averageClassSize:0}),m(h),x(p),l(!1),console.log("Dashboard - Mock data loaded successfully")},500)}catch(n){console.error("Error in Dashboard fetchDashboardData:",n),m(h),x(p),o(t?{coursesCreated:0,totalStudents:0,assignmentsToGrade:0,averageClassSize:0,coursesInProgress:0,assignmentsDue:0,completedCourses:0,averageGrade:0}:{coursesInProgress:0,assignmentsDue:0,completedCourses:0,averageGrade:0,coursesCreated:0,totalStudents:0,assignmentsToGrade:0,averageClassSize:0}),l(!1)}})()},[r]);const t=(r==null?void 0:r.role)==="teacher";return f?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",((g=r==null?void 0:r.name)==null?void 0:g.split(" ")[0])||"Student","!"]}),e.jsx("p",{className:"mt-2 text-gray-600",children:t?"Here's what's happening with your classes today.":"Here's your learning progress and upcoming deadlines."})]}),e.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:(t?[{name:"Courses Created",value:"3",change:"Active courses",icon:"📚",color:"bg-blue-100 text-blue-800"},{name:"Total Students",value:"45",change:"Across all courses",icon:"👥",color:"bg-green-100 text-green-800"},{name:"Assignments to Grade",value:"12",change:"Pending submissions",icon:"📝",color:"bg-yellow-100 text-yellow-800"},{name:"Average Class Size",value:"15",change:"Students per course",icon:"📊",color:"bg-purple-100 text-purple-800"}]:[{name:"Courses in Progress",value:"2",change:"+2 from last month",icon:"📚",color:"bg-blue-100 text-blue-800"},{name:"Assignments Due",value:"3",change:"3 due this week",icon:"📝",color:"bg-yellow-100 text-yellow-800"},{name:"Completed Courses",value:"4",change:"Last completed: CS101",icon:"✅",color:"bg-green-100 text-green-800"},{name:"Average Grade",value:"87.5%",change:"+2.5% from last term",icon:"📊",color:"bg-purple-100 text-purple-800"}]).map((s,n)=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-2xl",children:s.icon})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:s.name}),e.jsx("dd",{children:e.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:s.value})})]})})]})}),e.jsx("div",{className:"bg-gray-50 px-5 py-3",children:e.jsx("div",{className:"text-sm",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.color}`,children:s.change})})})]},n))}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Your Courses":"My Courses"}),e.jsx("button",{type:"button",onClick:y,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-primary-700 bg-primary-100 hover:bg-primary-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"View All"})]}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:d.length>0?d.map(s=>e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm font-medium text-primary-600 truncate",children:[s.code,": ",s.title]}),e.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:e.jsx("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:s.status})})]}),e.jsxs("div",{className:"mt-2 sm:flex sm:justify-between",children:[e.jsxs("div",{className:"sm:flex",children:[e.jsx("p",{className:"flex items-center text-sm text-gray-500",children:s.instructor}),e.jsxs("p",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0 sm:ml-6",children:[s.credits," credits"]})]}),t?e.jsx("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:e.jsxs("span",{className:"text-blue-600 font-medium",children:[s.students||0," students"]})}):e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2.5 mr-2",children:e.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${s.progress}%`}})}),e.jsxs("span",{children:[s.progress,"%"]})]})]})]})},s.id)):e.jsxs("div",{className:"px-4 py-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No courses"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t?"Get started by creating a new course.":"You are not enrolled in any courses yet."}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",onClick:t?b:j,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Create New Course":"Browse All Courses"})})]})})})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Recent Activity":"Upcoming Assignments"}),e.jsx("button",{type:"button",onClick:()=>a("viewAssignments","/assignments"),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-primary-700 bg-primary-100 hover:bg-primary-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"View All"})]}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:u.length>0?e.jsx("ul",{className:"divide-y divide-gray-200",children:u.map(s=>e.jsxs("li",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.title}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:s.courseName})]}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.submitted?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.submitted?"Submitted":"Pending"})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsxs("span",{children:["Due ",new Date(s.dueDate).toLocaleDateString()]}),e.jsx("span",{className:"mx-1",children:"•"}),e.jsxs("span",{children:[s.points," points"]})]})})]},s.id))}):e.jsxs("div",{className:"px-4 py-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:t?"No recent activity":"No assignments"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t?"Activity will appear here as students interact with your courses.":"You have no upcoming assignments due."})]})}),t&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx("button",{type:"button",onClick:v,className:"inline-flex items-center justify-center px-4 py-3 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Create New Assignment"}),e.jsx("button",{type:"button",onClick:N,className:"inline-flex items-center justify-center px-4 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Grade Submissions"})]})]})]})]})}export{G as default};
