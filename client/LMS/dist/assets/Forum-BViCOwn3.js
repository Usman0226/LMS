import{u as P,r as x,j as e}from"./index-KybbPWHZ.js";import"./api-Csd6WsQO.js";const T=[{id:1,title:"Assignment 1 Clarification",content:"I have a question about the requirements for Assignment 1. Are we allowed to use external libraries?",author:"Alex Johnson",authorId:3,authorAvatar:"AJ",courseId:1,courseName:"CS101 - Introduction to Computer Science",createdAt:"2025-03-10T14:30:00Z",updatedAt:"2025-03-10T14:30:00Z",isPinned:!0,isClosed:!1,tags:["assignment","question"],replies:[{id:101,content:"Yes, you can use external libraries as long as you properly document them in your submission.",author:"Dr. Sarah Johnson",authorId:2,authorAvatar:"SJ",isInstructor:!0,createdAt:"2025-03-10T15:15:00Z",likes:5,isLiked:!1,replies:[{id:103,content:"Thank you for the clarification!",author:"Alex Johnson",authorId:3,authorAvatar:"AJ",createdAt:"2025-03-10T15:30:00Z",likes:2,isLiked:!0}]},{id:102,content:"I was wondering the same thing. Also, is there a specific format you want us to follow for the documentation?",author:"Taylor Smith",authorId:4,authorAvatar:"TS",createdAt:"2025-03-10T15:45:00Z",likes:3,isLiked:!1}]},{id:2,title:"Study Group for Midterm",content:"Anyone interested in forming a study group for the upcoming midterm? We can meet in the library on Friday at 2 PM.",author:"Jordan Lee",authorId:5,authorAvatar:"JL",courseId:1,courseName:"CS101 - Introduction to Computer Science",createdAt:"2025-03-08T09:15:00Z",updatedAt:"2025-03-08T09:15:00Z",isPinned:!1,isClosed:!1,tags:["study-group","midterm"],replies:[{id:201,content:"I'd love to join! I'll be there.",author:"Casey Kim",authorId:6,authorAvatar:"CK",createdAt:"2025-03-08T10:30:00Z",likes:1,isLiked:!0},{id:202,content:"Count me in too!",author:"Riley Chen",authorId:7,authorAvatar:"RC",createdAt:"2025-03-08T11:45:00Z",likes:0,isLiked:!1}]},{id:3,title:"Important: Office Hours Changed",content:"Just a reminder that my office hours for this week have been moved to Thursday 2-4 PM due to a department meeting.",author:"Dr. Sarah Johnson",authorId:2,authorAvatar:"SJ",courseId:1,courseName:"CS101 - Introduction to Computer Science",createdAt:"2025-03-05T16:20:00Z",updatedAt:"2025-03-05T16:20:00Z",isPinned:!0,isClosed:!0,tags:["announcement","office-hours"],replies:[]}],N=[{id:1,code:"CS101",name:"Introduction to Computer Science"},{id:2,code:"MATH201",name:"Linear Algebra"},{id:3,code:"ENG150",name:"Academic Writing"}],k=({initials:s,isInstructor:o=!1,size:c="md"})=>{const m={sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg"};return e.jsx("div",{className:`${m[c]} rounded-full flex items-center justify-center font-medium text-white ${o?"bg-purple-600":"bg-primary-600"}`,children:s})},M=({date:s})=>{const o=new Date,c=new Date(s),m=Math.floor((o-c)/1e3);let a=Math.floor(m/31536e3);return a>=1?`${a} year${a===1?"":"s"} ago`:(a=Math.floor(m/2592e3),a>=1?`${a} month${a===1?"":"s"} ago`:(a=Math.floor(m/86400),a>=1?`${a} day${a===1?"":"s"} ago`:(a=Math.floor(m/3600),a>=1?`${a} hour${a===1?"":"s"} ago`:(a=Math.floor(m/60),a>=1?`${a} minute${a===1?"":"s"} ago`:"just now"))))},D=({label:s,color:o="gray"})=>{const c={gray:"bg-gray-100 text-gray-800",red:"bg-red-100 text-red-800",yellow:"bg-yellow-100 text-yellow-800",green:"bg-green-100 text-green-800",blue:"bg-blue-100 text-blue-800",indigo:"bg-indigo-100 text-indigo-800",purple:"bg-purple-100 text-purple-800",pink:"bg-pink-100 text-pink-800"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c[o]}`,children:s})},R=({reply:s,onLike:o,onReply:c,isNested:m=!1})=>{const{currentUser:a}=P(),[g,b]=x.useState(!1),[p,v]=x.useState(""),[d,f]=x.useState(!1),w=async u=>{if(u.preventDefault(),!!p.trim()){f(!0);try{alert("Reply submitted successfully!"),v(""),b(!1)}catch(l){console.error("Error submitting reply:",l),alert("Failed to submit reply. Please try again.")}finally{f(!1)}}};return e.jsxs("div",{className:`flex ${m?"ml-8 mt-4":"mt-4"}`,children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx(k,{initials:s.authorAvatar,isInstructor:s.isInstructor,size:"sm"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[s.author,s.isInstructor&&e.jsx("span",{className:"ml-1 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:"Instructor"})]}),e.jsx("span",{className:"mx-1 text-gray-500",children:"·"}),e.jsx("p",{className:"text-xs text-gray-500",children:e.jsx(M,{date:s.createdAt})})]}),e.jsxs("button",{onClick:()=>o(s.id),className:`text-sm flex items-center ${s.isLiked?"text-red-500":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:s.isLiked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),s.likes]})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-700",children:s.content}),!m&&e.jsxs("div",{className:"mt-2 flex items-center text-xs space-x-4",children:[e.jsx("button",{onClick:()=>b(!g),className:"text-gray-500 hover:text-gray-700",children:"Reply"}),(a==null?void 0:a.id)===s.authorId&&e.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:"Edit"})]})]}),g&&e.jsx("form",{onSubmit:w,className:"mt-2",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:p,onChange:u=>v(u.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Write a reply...",required:!0})}),e.jsx("div",{className:"ml-2 flex-shrink-0",children:e.jsx("button",{type:"submit",disabled:d||!p.trim(),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Posting...":"Post"})})]})}),s.replies&&s.replies.length>0&&e.jsx("div",{className:"mt-3 space-y-3",children:s.replies.map(u=>e.jsx(R,{reply:u,onLike:o,onReply:c,isNested:!0},u.id))})]})]})};function E(){const{currentUser:s}=P(),[o,c]=x.useState([]),[m,a]=x.useState(!0),[g,b]=x.useState("all"),[p,v]=x.useState(""),[d,f]=x.useState("all"),[w,u]=x.useState(!1),[l,y]=x.useState({title:"",content:"",courseId:"",tags:[]}),[C,A]=x.useState(!1),I=[{id:"question",name:"Question",color:"blue"},{id:"discussion",name:"Discussion",color:"green"},{id:"announcement",name:"Announcement",color:"purple"},{id:"assignment",name:"Assignment",color:"yellow"},{id:"study-group",name:"Study Group",color:"indigo"},{id:"resource",name:"Resource",color:"pink"}],S=[...o.filter(t=>g!=="all"&&t.courseId.toString()!==g||p&&!t.title.toLowerCase().includes(p.toLowerCase())&&!t.content.toLowerCase().includes(p.toLowerCase())||d==="my-posts"&&t.authorId!==(s==null?void 0:s.id)||d==="unanswered"&&(t.replies.length>0||t.authorId===(s==null?void 0:s.id))?!1:!(d==="pinned"&&!t.isPinned))].sort((t,r)=>t.isPinned&&!r.isPinned?-1:!t.isPinned&&r.isPinned?1:new Date(r.updatedAt)-new Date(t.updatedAt));x.useEffect(()=>{(async()=>{try{a(!0),setTimeout(()=>{c(T),a(!1)},500)}catch(r){console.error("Error fetching posts:",r),a(!1)}})()},[]);const L=async(t,r=null)=>{try{c(o.map(i=>{if(i.id===t)if(r){const h=j=>j.map(n=>n.id===r?{...n,likes:n.isLiked?n.likes-1:n.likes+1,isLiked:!n.isLiked}:n.replies&&n.replies.length>0?{...n,replies:h(n.replies)}:n);return{...i,replies:h(i.replies)}}else return{...i,isLiked:!i.isLiked,likes:i.isLiked?i.likes-1:i.likes+1};return i}))}catch(i){console.error("Error liking post:",i)}},z=async t=>{var r;if(t.preventDefault(),!(!l.title.trim()||!l.content.trim()||!l.courseId)){A(!0);try{const i={id:Date.now(),title:l.title,content:l.content,author:(s==null?void 0:s.name)||"Current User",authorId:(s==null?void 0:s.id)||1,authorAvatar:((s==null?void 0:s.name)||"CU").split(" ").map(h=>h[0]).join("").toUpperCase(),courseId:parseInt(l.courseId),courseName:((r=N.find(h=>h.id===parseInt(l.courseId)))==null?void 0:r.name)||"Unknown Course",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isPinned:!1,isClosed:!1,tags:l.tags,replies:[],likes:0,isLiked:!1};c([i,...o]),y({title:"",content:"",courseId:"",tags:[]}),u(!1),alert("Post created successfully!")}catch(i){console.error("Error creating post:",i),alert("Failed to create post. Please try again.")}finally{A(!1)}}},$=t=>{y(r=>({...r,tags:r.tags.includes(t)?r.tags.filter(i=>i!==t):[...r.tags,t]}))};return m?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Course Forum"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Ask questions, share resources, and collaborate with your peers"})]}),e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsxs("button",{type:"button",onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"New Post"]})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1 max-w-md",children:[e.jsx("label",{htmlFor:"search",className:"sr-only",children:"Search posts"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",id:"search",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Search posts...",value:p,onChange:t=>v(t.target.value)})]})]}),e.jsxs("div",{className:"w-full sm:w-64",children:[e.jsx("label",{htmlFor:"course-filter",className:"sr-only",children:"Filter by course"}),e.jsxs("select",{id:"course-filter",className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",value:g,onChange:t=>b(t.target.value),children:[e.jsx("option",{value:"all",children:"All Courses"}),N.map(t=>e.jsxs("option",{value:t.id,children:[t.code," - ",t.name]},t.id))]})]})]}),e.jsx("div",{className:"mt-4 border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[e.jsx("button",{onClick:()=>f("all"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${d==="all"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"All Posts"}),e.jsx("button",{onClick:()=>f("my-posts"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${d==="my-posts"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"My Posts"}),e.jsx("button",{onClick:()=>f("unanswered"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${d==="unanswered"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Unanswered"}),e.jsx("button",{onClick:()=>f("pinned"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${d==="pinned"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Pinned"})]})})]}),e.jsx("div",{className:"space-y-6",children:S.length>0?S.map(t=>e.jsxs("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx(k,{initials:t.authorAvatar,isInstructor:t.author==="Dr. Sarah Johnson"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[t.title,t.isPinned&&e.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsxs("svg",{className:"h-3 w-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M5.5 3.5a2 2 0 100 4h9a2 2 0 100-4h-9z"}),e.jsx("path",{fillRule:"evenodd",d:"M12.5 3.5a1 1 0 011 1v11.5a1 1 0 01-1 1h-9a1 1 0 01-1-1V4.5a1 1 0 011-1h9z",clipRule:"evenodd"})]}),"Pinned"]}),t.isClosed&&e.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:[e.jsx("svg",{className:"h-3 w-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Closed"]})]}),e.jsxs("div",{className:"mt-1 flex flex-col sm:flex-row sm:flex-wrap sm:mt-0 sm:space-x-4",children:[e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[e.jsx("span",{children:t.author}),t.author==="Dr. Sarah Johnson"&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:"Instructor"})]}),e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),e.jsx("span",{children:e.jsx(M,{date:t.createdAt})})]}),e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),e.jsx("span",{children:t.courseName})]})]})]}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx("button",{onClick:()=>L(t.id),className:`p-2 rounded-full ${t.isLiked?"text-red-500":"text-gray-400 hover:text-gray-500"}`,children:e.jsx("svg",{className:"h-5 w-5",fill:t.isLiked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})})]}),e.jsxs("div",{className:"mt-4 text-sm text-gray-700 space-y-4",children:[e.jsx("p",{children:t.content}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:t.tags.map(r=>{const i=I.find(h=>h.id===r);return i?e.jsx(D,{label:i.name,color:i.color},r):null})}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{type:"button",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700",children:[e.jsx("svg",{className:"h-5 w-5 mr-1.5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z",clipRule:"evenodd"})}),t.replies.length," ",t.replies.length===1?"reply":"replies"]}),e.jsxs("button",{type:"button",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700",children:[e.jsxs("svg",{className:"h-5 w-5 mr-1.5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"1.2k views"]})]}),e.jsx("div",{children:e.jsx("button",{type:"button",className:"inline-flex items-center text-sm font-medium text-primary-600 hover:text-primary-500",onClick:()=>{var r;(r=document.getElementById(`post-${t.id}`))==null||r.scrollIntoView({behavior:"smooth"})},children:"Reply"})})]})]})]})]})}),t.replies&&t.replies.length>0&&e.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:[t.replies.length," ",t.replies.length===1?"Reply":"Replies"]}),e.jsx("div",{className:"space-y-4",children:t.replies.map(r=>e.jsx(R,{reply:r,onLike:i=>L(t.id,i)},r.id))})]}),e.jsx("div",{id:`post-${t.id}`,className:"bg-white px-6 py-4 border-t border-gray-200",children:e.jsx("form",{onSubmit:r=>{r.preventDefault();const h=new FormData(r.target).get("reply");if(h.trim()){const j={id:Date.now(),content:h,author:(s==null?void 0:s.name)||"Current User",authorId:(s==null?void 0:s.id)||1,authorAvatar:((s==null?void 0:s.name)||"CU").split(" ").map(n=>n[0]).join("").toUpperCase(),isInstructor:(s==null?void 0:s.role)==="teacher",createdAt:new Date().toISOString(),likes:0,isLiked:!1,replies:[]};c(o.map(n=>n.id===t.id?{...n,replies:[...n.replies,j]}:n)),r.target.reset()}},children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-3",children:e.jsx(k,{initials:((s==null?void 0:s.name)||"CU").split(" ").map(r=>r[0]).join("").toUpperCase(),isInstructor:(s==null?void 0:s.role)==="teacher",size:"sm"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:`reply-${t.id}`,className:"sr-only",children:"Reply to post"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"reply",id:`reply-${t.id}`,className:"block w-full rounded-md border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Write a reply..."}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex py-1.5 pr-1.5",children:e.jsx("button",{type:"submit",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Post"})})]})]})]})})})]},t.id)):e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No posts found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:d==="my-posts"?"You haven't created any posts yet.":d==="unanswered"?"All questions have been answered!":d==="pinned"?"No pinned posts found.":"No posts match your current filters."}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{type:"button",onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"New Post"]})})]})}),w&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:()=>u(!1)}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full sm:p-6",children:e.jsx("div",{children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Create New Post"}),e.jsx("div",{className:"mt-4",children:e.jsxs("form",{onSubmit:z,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"post-title",className:"block text-sm font-medium text-gray-700",children:"Title"}),e.jsx("input",{type:"text",id:"post-title",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter a title for your post",value:l.title,onChange:t=>y({...l,title:t.target.value}),required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"post-content",className:"block text-sm font-medium text-gray-700",children:"Content"}),e.jsx("textarea",{id:"post-content",rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"What would you like to post?",value:l.content,onChange:t=>y({...l,content:t.target.value}),required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"post-course",className:"block text-sm font-medium text-gray-700",children:"Course"}),e.jsxs("select",{id:"post-course",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",value:l.courseId,onChange:t=>y({...l,courseId:t.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select a course"}),N.map(t=>e.jsxs("option",{value:t.id,children:[t.code," - ",t.name]},t.id))]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (Optional)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(t=>e.jsxs("button",{type:"button",onClick:()=>$(t.id),className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${l.tags.includes(t.id)?`bg-${t.color}-100 text-${t.color}-800`:"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:[t.name,l.tags.includes(t.id)&&e.jsx("svg",{className:"ml-1.5 -mr-0.5 h-3.5 w-3.5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]},t.id))})]}),e.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[e.jsx("button",{type:"submit",disabled:C||!l.title||!l.content||!l.courseId,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:col-start-2 sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Posting...":"Create Post"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:()=>u(!1),children:"Cancel"})]})]})})]})})})]})})]})}export{E as default};
